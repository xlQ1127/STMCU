/****************************************Copyright (c)*************************
**                               ç‰ˆæƒæ‰?æœ? (C), 2015-2020, æ¶‚é¸¦ç§‘æŠ€
**
**                                 http://www.tuya.com
**
**--------------æ–‡ä»¶ä¿¡æ¯-------------------------------------------------------
**æ–?   ä»?   å?: protocol.c
**æ?        è¿?: ä¸‹å‘/ä¸ŠæŠ¥æ•°æ®å¤„ç†å‡½æ•°
**ä½? ç”? è¯? æ˜? :

                  *******éå¸¸é‡è¦ï¼Œä¸€å®šè¦çœ‹å“¦ï¼ï¼ï¼?********

** 1ã€ç”¨æˆ·åœ¨æ­¤æ–‡ä»¶ä¸­å®ç°æ•°æ®ä¸‹å‘/ä¸ŠæŠ¥åŠŸèƒ½
** 2ã€DPçš„ID/TYPEåŠæ•°æ®å¤„ç†å‡½æ•°éƒ½éœ?è¦ç”¨æˆ·æŒ‰ç…§å®é™…å®šä¹‰å®ç?
** 3ã€å½“å¼?å§‹æŸäº›å®å®šä¹‰åéœ€è¦ç”¨æˆ·å®ç°ä»£ç çš„å‡½æ•°å†…éƒ¨æœ?#erræç¤º,å®Œæˆå‡½æ•°åè¯·åˆ é™¤è¯?#err
**
**--------------å½“å‰ç‰ˆæœ¬ä¿®è®¢---------------------------------------------------
** ç‰?  æœ?: v1.0.2
** æ—¥ã??æœ?: 2018å¹?12æœ?6æ—?
** æã??è¿?: 1:å¢åŠ ä½åŠŸè€—é—¨é”apiæ¥å£æ–‡ä»¶
           2:ä¿®æ”¹å¢åŠ éƒ¨åˆ†æ–°åŠŸèƒ½å…¼å®?

** ç‰?  æœ?: v1.0.1
** æ—¥ã??æœ?: 2018å¹?11æœ?1æ—?
** æã??è¿?: 1:ä½åŠŸè€—SDKä¸Šçº¿æ­£å¼ç‰?

** ç‰?  æœ?: v1.0
** æ—¥ã??æœ?: 2018å¹?4æœ?24æ—?
** æã??è¿?: 1:ä½åŠŸè€—SDKé¦–ç‰ˆï¼Œé?‚é…1.0.2åè®®
**
**-----------------------------------------------------------------------------
******************************************************************************/

#include "wifi.h"

/******************************************************************************
                                ç§»æ¤é¡»çŸ¥:
1:MCUå¿…é¡»åœ¨whileä¸­ç›´æ¥è°ƒç”¨mcu_api.cå†…çš„wifi_uart_service()å‡½æ•°
2:ç¨‹åºæ­£å¸¸åˆå§‹åŒ–å®Œæˆå,å»ºè®®ä¸è¿›è¡Œå…³ä¸²å£ä¸­æ–­,å¦‚å¿…é¡»å…³ä¸­æ–­,å…³ä¸­æ–­æ—¶é—´å¿…é¡»çŸ­,å…³ä¸­æ–­ä¼šå¼•èµ·ä¸²å£æ•°æ®åŒ…ä¸¢å¤?
3:è¯·å‹¿åœ¨ä¸­æ–?/å®šæ—¶å™¨ä¸­æ–­å†…è°ƒç”¨ä¸ŠæŠ¥å‡½æ•°
******************************************************************************/

         
/******************************************************************************
                              ç¬¬ä¸€æ­?:åˆå§‹åŒ?
1:åœ¨éœ€è¦ä½¿ç”¨åˆ°wifiç›¸å…³æ–‡ä»¶çš„æ–‡ä»¶ä¸­include "wifi.h"
2:åœ¨MCUåˆå§‹åŒ–ä¸­è°ƒç”¨mcu_api.cæ–‡ä»¶ä¸­çš„wifi_protocol_init()å‡½æ•°
3:å°†MCUä¸²å£å•å­—èŠ‚å‘é€å‡½æ•°å¡«å…¥protocol.cæ–‡ä»¶ä¸­uart_transmit_outputå‡½æ•°å†?,å¹¶åˆ é™?#error
4:åœ¨MCUä¸²å£æ¥æ”¶å‡½æ•°ä¸­è°ƒç”¨mcu_api.cæ–‡ä»¶å†…çš„uart_receive_inputå‡½æ•°,å¹¶å°†æ¥æ”¶åˆ°çš„å­—èŠ‚ä½œä¸ºå‚æ•°ä¼ å…¥
5:å•ç‰‡æœºè¿›å…¥whileå¾ªç¯åè°ƒç”¨mcu_api.cæ–‡ä»¶å†…çš„wifi_uart_service()å‡½æ•°
******************************************************************************/

/******************************************************************************
                        1:dpæ•°æ®ç‚¹åºåˆ—ç±»å‹å¯¹ç…§è¡¨
          **æ­¤ä¸ºè‡ªåŠ¨ç”Ÿæˆä»£ç ,å¦‚åœ¨å¼?å‘å¹³å°æœ‰ç›¸å…³ä¿®æ”¹è¯·é‡æ–°ä¸‹è½½MCU_SDK**         
******************************************************************************/
const DOWNLOAD_CMD_S download_cmd[] =
{
  {DPID_UNLOCK_TYPE, DP_TYPE_ENUM},
  {DPID_UNLOCK_ID, DP_TYPE_VALUE},
  {DPID_ALART, DP_TYPE_ENUM},
  {DPID_OPEN_DOOR_TIME, DP_TYPE_VALUE},
  {DPID_BATTERY, DP_TYPE_ENUM},
};



/******************************************************************************
                           2:ä¸²å£å•å­—èŠ‚å‘é€å‡½æ•?
è¯·å°†MCUä¸²å£å‘é?å‡½æ•°å¡«å…¥è¯¥å‡½æ•°å†?,å¹¶å°†æ¥æ”¶åˆ°çš„æ•°æ®ä½œä¸ºå‚æ•°ä¼ å…¥ä¸²å£å‘é?å‡½æ•?
******************************************************************************/

/*****************************************************************************
å‡½æ•°åç§° : uart_transmit_output
åŠŸèƒ½æè¿° : å‘æ•°æ®å¤„ç?
è¾“å…¥å‚æ•° : value:ä¸²å£æ”¶åˆ°å­—èŠ‚æ•°æ®
è¿”å›å‚æ•° : æ—?
ä½¿ç”¨è¯´æ˜ : è¯·å°†MCUä¸²å£å‘é?å‡½æ•°å¡«å…¥è¯¥å‡½æ•°å†?,å¹¶å°†æ¥æ”¶åˆ°çš„æ•°æ®ä½œä¸ºå‚æ•°ä¼ å…¥ä¸²å£å‘é?å‡½æ•?
*****************************************************************************/
void uart_transmit_output(unsigned char value)
{
  #error "è¯·å°†MCUä¸²å£å‘é?å‡½æ•°å¡«å…¥è¯¥å‡½æ•°,å¹¶åˆ é™¤è¯¥è¡?"
/*
  //ç¤ºä¾‹:
  extern void Uart_PutChar(unsigned char value);
  Uart_PutChar(value);	                                //ä¸²å£å‘é?å‡½æ•?
*/
}
/******************************************************************************
                           ç¬¬äºŒæ­?:å®ç°å…·ä½“ç”¨æˆ·å‡½æ•°
1:APPä¸‹å‘æ•°æ®å¤„ç†
2:æ•°æ®ä¸ŠæŠ¥å¤„ç†
******************************************************************************/

/******************************************************************************
                            1:æ‰?æœ‰æ•°æ®ä¸ŠæŠ¥å¤„ç?
å½“å‰å‡½æ•°å¤„ç†å…¨éƒ¨æ•°æ®ä¸ŠæŠ¥(åŒ…æ‹¬å¯ä¸‹å?/å¯ä¸ŠæŠ¥å’Œåªä¸ŠæŠ?)
  éœ?è¦ç”¨æˆ·æŒ‰ç…§å®é™…æƒ…å†µå®ç?:
  1:éœ?è¦å®ç°å¯ä¸‹å‘/å¯ä¸ŠæŠ¥æ•°æ®ç‚¹ä¸ŠæŠ¥
  2:éœ?è¦å®ç°åªä¸ŠæŠ¥æ•°æ®ç‚¹ä¸ŠæŠ?
æ­¤å‡½æ•°ä¸ºMCUå†…éƒ¨å¿…é¡»è°ƒç”¨
ç”¨æˆ·ä¹Ÿå¯è°ƒç”¨æ­¤å‡½æ•°å®ç°å…¨éƒ¨æ•°æ®ä¸ŠæŠ?
******************************************************************************/

//è‡ªåŠ¨åŒ–ç”Ÿæˆæ•°æ®ä¸ŠæŠ¥å‡½æ•?

/*****************************************************************************
å‡½æ•°åç§° : all_data_update
åŠŸèƒ½æè¿° : ç³»ç»Ÿæ‰?æœ‰dpç‚¹ä¿¡æ¯ä¸Šä¼?,å®ç°APPå’Œmucæ•°æ®åŒæ­¥
è¾“å…¥å‚æ•° : æ—?
è¿”å›å‚æ•° : æ—?
ä½¿ç”¨è¯´æ˜ : æ­¤å‡½æ•°SDKå†…éƒ¨éœ?è°ƒç”¨;
           MCUå¿…é¡»å®ç°è¯¥å‡½æ•°å†…æ•°æ®ä¸ŠæŠ¥åŠŸèƒ½;åŒ…æ‹¬åªä¸ŠæŠ¥å’Œå¯ä¸ŠæŠ¥å¯ä¸‹å‘å‹æ•°æ?
*****************************************************************************/
void all_data_update(void)
{
  #error "è¯·åœ¨æ­¤å¤„ç†å¯ä¸‹å‘å¯ä¸ŠæŠ¥æ•°æ®åŠåªä¸ŠæŠ¥æ•°æ®ç¤ºä¾?,å¤„ç†å®Œæˆååˆ é™¤è¯¥è¡?"
  /* 
  //æ­¤ä»£ç ä¸ºå¹³å°è‡ªåŠ¨ç”Ÿæˆï¼Œè¯·æŒ‰ç…§å®é™…æ•°æ®ä¿®æ”¹æ¯ä¸ªå¯ä¸‹å‘å¯ä¸ŠæŠ¥å‡½æ•°å’Œåªä¸ŠæŠ¥å‡½æ•°
  mcu_dp_enum_update(DPID_UNLOCK_TYPE,µ±Ç°½âËø·½Ê½); //Ã¶¾ÙĞÍÊı¾İÉÏ±¨;
  mcu_dp_value_update(DPID_UNLOCK_ID,µ±Ç°½âËøID); //VALUEĞÍÊı¾İÉÏ±¨;
  mcu_dp_enum_update(DPID_ALART,µ±Ç°±¨¾¯); //Ã¶¾ÙĞÍÊı¾İÉÏ±¨;
  mcu_dp_value_update(DPID_OPEN_DOOR_TIME,µ±Ç°Ô¶³Ì¿ªÃÅµ¹¼ÆÊ±); //VALUEĞÍÊı¾İÉÏ±¨;
  mcu_dp_enum_update(DPID_BATTERY,µ±Ç°µçÁ¿×´Ì¬); //Ã¶¾ÙĞÍÊı¾İÉÏ±¨;

 */
}


/*****************************************************************************
å‡½æ•°åç§° : dp_record_combine_update
åŠŸèƒ½æè¿° : è®°å½•å‹æ•°æ®ç»„åˆä¸ŠæŠ?
è¾“å…¥å‚æ•° : time     : æ—¶é—´æ•°æ®é•¿åº¦7,é¦–å­—èŠ‚è¡¨ç¤ºæ˜¯å¦ä¼ è¾“æ ‡å¿—ä½ï¼Œå…¶ä½™ä¾æ¬¡ä¸ºå¹´ã?æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’
           dp_bool  : boolå‹dpidå?, v_bool:å¯¹åº”å€?
           dp_enum  : enumå‹dpidå?, v_enum:å¯¹åº”å€?
           dp_value : valueå‹dpidå?, v_value:å¯¹åº”å€?
           dp_string: stringå‹dpidå?, v_string:å¯¹åº”å€?,len:stringé•¿åº¦
è¿”å›å‚æ•° : æ—?
*****************************************************************************/
unsigned char dp_record_combine_update(unsigned char time[],
                                       unsigned char dp_bool,unsigned char v_bool,
                                       unsigned char dp_enum,unsigned char v_enum,
                                       unsigned char dp_value,unsigned char v_value,
                                       unsigned char dp_string,unsigned char v_string[],unsigned char len)
{
  unsigned short length = 0;
  
  if(stop_update_flag == ENABLE)
    return SUCCESS;
  
  //local_time
  length = set_wifi_uart_buffer(length,(unsigned char *)time,7);
  
  //bool
  length = set_wifi_uart_byte(length,dp_bool);
  length = set_wifi_uart_byte(length,DP_TYPE_BOOL);
  length = set_wifi_uart_byte(length,0);
  length = set_wifi_uart_byte(length,1);
  if(v_bool == FALSE)
  {
    length = set_wifi_uart_byte(length,FALSE);
  }
  else
  {
    length = set_wifi_uart_byte(length,1);
  }
  //enum
  length = set_wifi_uart_byte(length,dp_enum);
  length = set_wifi_uart_byte(length,DP_TYPE_ENUM);
  length = set_wifi_uart_byte(length,0);
  length = set_wifi_uart_byte(length,1);
  length = set_wifi_uart_byte(length,v_enum);
  //value
  length = set_wifi_uart_byte(length,dp_value);
  length = set_wifi_uart_byte(length,DP_TYPE_VALUE);
  length = set_wifi_uart_byte(length,0);
  length = set_wifi_uart_byte(length,4);
  length = set_wifi_uart_byte(length,v_value >> 24);
  length = set_wifi_uart_byte(length,v_value >> 16);
  length = set_wifi_uart_byte(length,v_value >> 8);
  length = set_wifi_uart_byte(length,v_value & 0xff);
  //string
  length = set_wifi_uart_byte(length,dp_string);
  length = set_wifi_uart_byte(length,DP_TYPE_STRING);
  length = set_wifi_uart_byte(length,len / 0x100);
  length = set_wifi_uart_byte(length,len % 0x100);
  length = set_wifi_uart_buffer(length,(unsigned char *)v_string,len);
  
  wifi_uart_write_frame(STATE_RC_UPLOAD_CMD,length);
  
  return SUCCESS;
}

/******************************************************************************
                                WARNING!!!    
                            2:æ‰?æœ‰æ•°æ®ä¸ŠæŠ¥å¤„ç?
è‡ªåŠ¨åŒ–ä»£ç æ¨¡æ¿å‡½æ•?,å…·ä½“è¯·ç”¨æˆ·è‡ªè¡Œå®ç°æ•°æ®å¤„ç?
******************************************************************************/



/******************************************************************************
                                WARNING!!!                     
æ­¤ä»£ç ä¸ºSDKå†…éƒ¨è°ƒç”¨,è¯·æŒ‰ç…§å®é™…dpæ•°æ®å®ç°å‡½æ•°å†…éƒ¨æ•°æ®
******************************************************************************/
#ifdef SUPPORT_MCU_RTC_CHECK
/*****************************************************************************
å‡½æ•°åç§° : mcu_write_rtctime
åŠŸèƒ½æè¿° : MCUæ ¡å¯¹æœ¬åœ°RTCæ—¶é’Ÿ
è¾“å…¥å‚æ•° : æ—?
è¿”å›å‚æ•° : æ—?
ä½¿ç”¨è¯´æ˜ : MCUéœ?è¦è‡ªè¡Œå®ç°è¯¥åŠŸèƒ½
*****************************************************************************/
void mcu_write_rtctime(unsigned char time[])
{
  #error "è¯·è‡ªè¡Œå®ŒæˆRTCæ—¶é’Ÿå†™å…¥ä»£ç ,å¹¶åˆ é™¤è¯¥è¡?"
  /*
  time[0]ä¸ºæ˜¯å¦è·å–æ—¶é—´æˆåŠŸæ ‡å¿—ï¼Œä¸? 0 è¡¨ç¤ºå¤±è´¥ï¼Œä¸º 1è¡¨ç¤ºæˆåŠŸ
  time[1] ä¸? å¹? ä»? , 0x00 è¡? ç¤?2000 å¹?
  time[2]ä¸ºæœˆä»½ï¼Œä»? 1 å¼?å§‹åˆ°12 ç»“æŸ
  time[3]ä¸ºæ—¥æœŸï¼Œä»? 1 å¼?å§‹åˆ°31 ç»“æŸ
  time[4]ä¸ºæ—¶é’Ÿï¼Œä»? 0 å¼?å§‹åˆ°23 ç»“æŸ
  time[5]ä¸ºåˆ†é’Ÿï¼Œä»? 0 å¼?å§‹åˆ°59 ç»“æŸ
  time[6]ä¸ºç§’é’Ÿï¼Œä»? 0 å¼?å§‹åˆ°59 ç»“æŸ
  time[7]ä¸ºæ˜ŸæœŸï¼Œä»? 1 å¼?å§‹åˆ° 7 ç»“æŸï¼?1ä»£è¡¨æ˜ŸæœŸä¸?
 */
  if(time[0] == 1)
  {
    //æ­£ç¡®æ¥æ”¶åˆ°wifiæ¨¡å—è¿”å›çš„æœ¬åœ°æ—¶é’Ÿæ•°æ? 
	 
  }
  else
  {
  	//è·å–æœ¬åœ°æ—¶é’Ÿæ•°æ®å‡ºé”™,æœ‰å¯èƒ½æ˜¯å½“å‰wifiæ¨¡å—æœªè”ç½?
  }
}
#endif

#ifdef WIFI_TEST_ENABLE
/*****************************************************************************
å‡½æ•°åç§° : wifi_test_result
åŠŸèƒ½æè¿° : wifiåŠŸèƒ½æµ‹è¯•åé¦ˆ
è¾“å…¥å‚æ•° : result:wifiåŠŸèƒ½æµ‹è¯•ç»“æœ;0:å¤±è´¥/1:æˆåŠŸ
           rssi:æµ‹è¯•æˆåŠŸè¡¨ç¤ºwifiä¿¡å·å¼ºåº¦/æµ‹è¯•å¤±è´¥è¡¨ç¤ºé”™è¯¯ç±»å‹
è¿”å›å‚æ•° : æ—?
ä½¿ç”¨è¯´æ˜ : MCUéœ?è¦è‡ªè¡Œå®ç°è¯¥åŠŸèƒ½
*****************************************************************************/
void wifi_test_result(unsigned char result,unsigned char rssi)
{
  #error "è¯·è‡ªè¡Œå®ç°wifiåŠŸèƒ½æµ‹è¯•æˆåŠŸ/å¤±è´¥ä»£ç ,å®Œæˆåè¯·åˆ é™¤è¯¥è¡Œ"
  if(result == 0)
  {
    //æµ‹è¯•å¤±è´¥
    if(rssi == 0x00)
    {
      //æœªæ‰«æåˆ°åç§°ä¸ºtuya_mdev_testè·¯ç”±å™?,è¯·æ£€æŸ?
    }
    else if(rssi == 0x01)
    {
      //æ¨¡å—æœªæˆæ?
    }
  }
  else
  {
    //æµ‹è¯•æˆåŠŸ
    //rssiä¸ºä¿¡å·å¼ºåº?(0-100, 0ä¿¡å·æœ?å·®ï¼Œ100ä¿¡å·æœ?å¼?)
  }
  
}
#endif

/*****************************************************************************
å‡½æ•°åç§° : wifi_update_handle
åŠŸèƒ½æè¿° : MCUè¯·æ±‚mcuå›ºä»¶å‡çº§è¿”å›å‡½æ•°
è¾“å…¥å‚æ•° : status:æ ¡éªŒæ ‡å¿—
è¿”å›å‚æ•° : æ—?
ä½¿ç”¨è¯´æ˜ : MCUä¸»åŠ¨è°ƒç”¨ wifi_update_request å‡½æ•°å®Œæˆåè¯¥å‡½æ•°å†…å¯è·å–å‡çº§å½“å‰çŠ¶æ??
*****************************************************************************/
void wifi_update_handle(unsigned char status)
{ 
  #error "è¯·è‡ªè¡Œå®Œæˆwifiæ¨¡å—å‡çº§çŠ¶æ?è¿”å›ä»£ç ?,å¹¶åˆ é™¤è¯¥è¡?"

  switch (status)
  {
    case 0:
    {
      //å¼?å§‹æ£€æŸ¥å›ºä»¶æ›´æ–?
      break;
    }

    case 1:
    {
      //å·²ç»æ˜¯æœ€æ–°å›ºä»?
      break;
    }

    case 2:
    {
      //æ­£åœ¨æ›´æ–°å›ºä»¶
      break;
    }

    case 3:
    {
      //å›ºä»¶æ›´æ–°æˆåŠŸ
      break;
    }

    case 4:
    {
      //å›ºä»¶æ›´æ–°å¤±è´¥
      break;
    }

    default:
      break;
  }
}

#ifdef SUPPORT_MCU_FIRM_UPDATE
/*****************************************************************************
å‡½æ•°åç§° : mcu_firm_update_handle
åŠŸèƒ½æè¿° : MCUè¿›å…¥å›ºä»¶å‡çº§æ¨¡å¼
è¾“å…¥å‚æ•° : value:å›ºä»¶ç¼“å†²åŒ?
           position:å½“å‰æ•°æ®åŒ…åœ¨äºå›ºä»¶ä½ç½?
           length:å½“å‰å›ºä»¶åŒ…é•¿åº?(å›ºä»¶åŒ…é•¿åº¦ä¸º0æ—?,è¡¨ç¤ºå›ºä»¶åŒ…å‘é€å®Œæˆ?)
è¿”å›å‚æ•° : æ—?
ä½¿ç”¨è¯´æ˜ : MCUéœ?è¦è‡ªè¡Œå®ç°è¯¥åŠŸèƒ½
*****************************************************************************/
unsigned char mcu_firm_update_handle(const unsigned char value[],unsigned long position,unsigned short length)
{
  #error "è¯·è‡ªè¡Œå®ŒæˆMCUå›ºä»¶å‡çº§ä»£ç ,å®Œæˆåè¯·åˆ é™¤è¯¥è¡Œ"
  if(length == 0)
  {
    //å›ºä»¶æ•°æ®å‘é?å®Œæˆ?
  }
  else
  {
    //å›ºä»¶æ•°æ®å¤„ç†
  }
  
  return SUCCESS;
}
#endif

/******************************************************************************
                                WARNING!!!                     
ä»¥ä¸‹å‡½æ•°ç”¨æˆ·è¯·å‹¿ä¿®æ”¹!!
******************************************************************************/

/*****************************************************************************
å‡½æ•°åç§° : dp_download_handle
åŠŸèƒ½æè¿° : dpä¸‹å‘å¤„ç†å‡½æ•°
è¾“å…¥å‚æ•° : dpid:DPåºå·
           value:dpæ•°æ®ç¼“å†²åŒºåœ°å?
           length:dpæ•°æ®é•¿åº¦
è¿”å›å‚æ•° : æˆåŠŸè¿”å›:SUCCESS/å¤±è´¥è¿”å›:ERRO
ä½¿ç”¨è¯´æ˜ : è¯¥å‡½æ•°ç”¨æˆ·ä¸èƒ½ä¿®æ”?
*****************************************************************************/
unsigned char dp_download_handle(unsigned char dpid,const unsigned char value[], unsigned short length)
{
  /*********************************
  å½“å‰å‡½æ•°å¤„ç†å¯ä¸‹å?/å¯ä¸ŠæŠ¥æ•°æ®è°ƒç”?                    
  å…·ä½“å‡½æ•°å†…éœ€è¦å®ç°ä¸‹å‘æ•°æ®å¤„ç?
  å®Œæˆç”¨éœ€è¦å°†å¤„ç†ç»“æœåé¦ˆè‡³APPç«?,å¦åˆ™APPä¼šè®¤ä¸ºä¸‹å‘å¤±è´?
  ***********************************/
  unsigned char ret;
  switch(dpid)
  {

  default:
    break;
  }
  return ret;
}
/*****************************************************************************
å‡½æ•°åç§° : get_download_cmd_total
åŠŸèƒ½æè¿° : è·å–æ‰?æœ‰dpå‘½ä»¤æ€»å’Œ
è¾“å…¥å‚æ•° : æ—?
è¿”å›å‚æ•° : ä¸‹å‘å‘½ä»¤æ€»å’Œ
ä½¿ç”¨è¯´æ˜ : è¯¥å‡½æ•°ç”¨æˆ·ä¸èƒ½ä¿®æ”?
*****************************************************************************/
unsigned char get_download_cmd_total(void)
{
  return(sizeof(download_cmd) / sizeof(download_cmd[0]));
}
